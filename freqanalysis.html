<!doctype html>
<html>
    <head>
        <title>Crypto Resources home</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            function shiftChar(char, shiftVal)
            {
                var currCharPos = char.charCodeAt(0) - "a".charCodeAt(0);
                if(shiftVal !== 0)
                {
                    if (shiftVal > 0)
                    {
                        var newCharPos=(currCharPos + shiftVal) % 26;
                        return String.fromCharCode("a".charCodeAt(0) + newCharPos);
                    }
                    else
                    {
                        var newCharPos = currCharPos + shiftVal;
                        if (newCharPos < 0)
                        {
                            return String.fromCharCode("a".charCodeAt(0) + newCharPos + 26);
                        }
                        else
                        {
                            return String.fromCharCode("a".charCodeAt(0) + newCharPos);
                        }
                    }
                }
                else
                {
                    return char;
                }
            }


            function convertString(str, shiftVal)
            {
                var converted = "";
                for (var i = 0; i < str.length; i++)
                {
                    if(str.charAt(i) >= 'a' && str.charAt(i) <= 'z')
                    {
                        converted += shiftChar(str.charAt(i),shiftVal)
                    }
                    else
                    {
                        converted += str.charAt(i);
                    }
                }
                return converted;
            }

            function convert2cipher()
            {
                var message=$("#texttoconvert").val().toLowerCase();
                //window.alert(string2cipher(message));
                for(var i = 1; i < 26; i++)
                {
                    $("#shift" + i).val(convertString(message,i));
                }
            }

            function convert2plain()
            {
                var message=$("#texttoconvert").val().toLowerCase();
                //window.alert(message);
                for(var i = 1; i < 26; i++)
                {
                    //window.alert( convertString(message,i * -1) )
                    $("#shift" + i).val(convertString(message,i * -1));
                }
            }
        </script>
    </head>
    <body>
        <h1>Mono-alphabetic Shift Cipher</h1>
        <h2>Text to shift</h2>
        <textarea id="texttoconvert" rows="2" cols="70"></textarea>
        <input type="button" value="Convert from Plaintext" onclick="convert2cipher()" />
        <input type="button" value="Convert from Ciphertext" onclick="convert2plain()" />
    </body>
</html>